<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400" width="700" height="400">
  <defs>
    <linearGradient id="interfaceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9B59B6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8E44AD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="linuxGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#E67E22;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D35400;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="windowsGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498DB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980B9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="macosGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#7F8C8D;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#616A6B;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
    <marker id="arrow19" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#7F8C8D"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="700" height="400" fill="#FAFAFA"/>

  <!-- Title -->
  <text x="350" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">Cross-Platform Abstraction</text>

  <!-- Application Layer -->
  <g transform="translate(200, 50)" filter="url(#shadow)">
    <rect x="0" y="0" width="300" height="45" rx="6" fill="#2C3E50"/>
    <text x="150" y="28" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Application Code</text>
  </g>

  <!-- Arrow to Interface -->
  <line x1="350" y1="95" x2="350" y2="115" stroke="#7F8C8D" stroke-width="2" marker-end="url(#arrow19)"/>

  <!-- Platform Interface -->
  <g transform="translate(150, 120)" filter="url(#shadow)">
    <rect x="0" y="0" width="400" height="60" rx="6" fill="url(#interfaceGrad)"/>
    <text x="200" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Platform Interface</text>
    <text x="200" y="45" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#E8DAEF">CreateWindow() | PollEvents() | UpdateCanvas() | Present()</text>
  </g>

  <!-- Arrows to implementations -->
  <line x1="250" y1="180" x2="130" y2="220" stroke="#7F8C8D" stroke-width="2" marker-end="url(#arrow19)"/>
  <line x1="350" y1="180" x2="350" y2="220" stroke="#7F8C8D" stroke-width="2" marker-end="url(#arrow19)"/>
  <line x1="450" y1="180" x2="570" y2="220" stroke="#7F8C8D" stroke-width="2" marker-end="url(#arrow19)"/>

  <!-- Linux Implementation -->
  <g transform="translate(30, 225)" filter="url(#shadow)">
    <rect x="0" y="0" width="180" height="90" rx="6" fill="url(#linuxGrad)"/>
    <text x="90" y="25" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Linux / X11</text>
    <text x="90" y="45" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="#FDEBD0">//go:build linux</text>
    <rect x="10" y="55" width="160" height="25" rx="3" fill="rgba(0,0,0,0.2)"/>
    <text x="90" y="72" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">Unix Socket + X11</text>
  </g>

  <!-- Windows Implementation -->
  <g transform="translate(260, 225)" filter="url(#shadow)">
    <rect x="0" y="0" width="180" height="90" rx="6" fill="url(#windowsGrad)"/>
    <text x="90" y="25" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Windows / Win32</text>
    <text x="90" y="45" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="#D6EAF8">//go:build windows</text>
    <rect x="10" y="55" width="160" height="25" rx="3" fill="rgba(0,0,0,0.2)"/>
    <text x="90" y="72" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">HWND + GDI</text>
  </g>

  <!-- macOS Implementation -->
  <g transform="translate(490, 225)" filter="url(#shadow)">
    <rect x="0" y="0" width="180" height="90" rx="6" fill="url(#macosGrad)"/>
    <text x="90" y="25" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">macOS / Cocoa</text>
    <text x="90" y="45" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="#E5E8E8">//go:build darwin</text>
    <rect x="10" y="55" width="160" height="25" rx="3" fill="rgba(0,0,0,0.2)"/>
    <text x="90" y="72" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">NSWindow + CGContext</text>
  </g>

  <!-- Pixel format table -->
  <g transform="translate(150, 335)" filter="url(#shadow)">
    <rect x="0" y="0" width="400" height="55" rx="6" fill="#ECF0F1" stroke="#BDC3C7"/>
    <text x="200" y="20" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#2C3E50">Pixel Formats</text>
    <text x="70" y="42" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#E67E22">BGRX</text>
    <text x="200" y="42" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#3498DB">BGRA</text>
    <text x="330" y="42" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#7F8C8D">ARGB</text>
  </g>
</svg>
