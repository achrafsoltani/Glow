<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 420" width="750" height="420">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27AE60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E8449;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="idGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498DB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980B9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="geomGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#E74C3C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C0392B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="classGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9B59B6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8E44AD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="attrGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F39C12;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D68910;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="750" height="420" fill="#FAFAFA"/>

  <!-- Title -->
  <text x="375" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">CreateWindow Request Structure (Opcode 1)</text>

  <!-- Row 1: Header -->
  <g transform="translate(50, 50)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#27AE60">Header (4 bytes)</text>
    <g transform="translate(0, 10)" filter="url(#shadow)">
      <rect x="0" y="0" width="100" height="45" rx="4" fill="url(#headerGrad)"/>
      <text x="50" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Opcode (1)</text>
      <text x="50" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">1 byte</text>

      <rect x="105" y="0" width="100" height="45" rx="4" fill="url(#headerGrad)" fill-opacity="0.8"/>
      <text x="155" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Depth</text>
      <text x="155" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">1 byte</text>

      <rect x="210" y="0" width="140" height="45" rx="4" fill="url(#headerGrad)" fill-opacity="0.6"/>
      <text x="280" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Request Length</text>
      <text x="280" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes</text>
    </g>
  </g>

  <!-- Row 2: IDs -->
  <g transform="translate(50, 120)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3498DB">Resource IDs (8 bytes)</text>
    <g transform="translate(0, 10)" filter="url(#shadow)">
      <rect x="0" y="0" width="175" height="45" rx="4" fill="url(#idGrad)"/>
      <text x="87" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Window ID</text>
      <text x="87" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">4 bytes (generated)</text>

      <rect x="180" y="0" width="175" height="45" rx="4" fill="url(#idGrad)" fill-opacity="0.8"/>
      <text x="267" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Parent ID</text>
      <text x="267" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">4 bytes (root window)</text>
    </g>
  </g>

  <!-- Row 3: Geometry -->
  <g transform="translate(50, 190)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#E74C3C">Geometry (10 bytes)</text>
    <g transform="translate(0, 10)" filter="url(#shadow)">
      <rect x="0" y="0" width="80" height="45" rx="4" fill="url(#geomGrad)"/>
      <text x="40" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">X</text>
      <text x="40" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes</text>

      <rect x="85" y="0" width="80" height="45" rx="4" fill="url(#geomGrad)" fill-opacity="0.9"/>
      <text x="125" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Y</text>
      <text x="125" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes</text>

      <rect x="170" y="0" width="90" height="45" rx="4" fill="url(#geomGrad)" fill-opacity="0.8"/>
      <text x="215" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Width</text>
      <text x="215" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes</text>

      <rect x="265" y="0" width="90" height="45" rx="4" fill="url(#geomGrad)" fill-opacity="0.7"/>
      <text x="310" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Height</text>
      <text x="310" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes</text>

      <rect x="360" y="0" width="90" height="45" rx="4" fill="url(#geomGrad)" fill-opacity="0.6"/>
      <text x="405" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Border</text>
      <text x="405" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes</text>
    </g>
  </g>

  <!-- Row 4: Class and Visual -->
  <g transform="translate(50, 260)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9B59B6">Class and Visual (6 bytes)</text>
    <g transform="translate(0, 10)" filter="url(#shadow)">
      <rect x="0" y="0" width="150" height="45" rx="4" fill="url(#classGrad)"/>
      <text x="75" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Class</text>
      <text x="75" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">2 bytes (InputOutput=1)</text>

      <rect x="155" y="0" width="200" height="45" rx="4" fill="url(#classGrad)" fill-opacity="0.8"/>
      <text x="255" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Visual ID</text>
      <text x="255" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">4 bytes (from setup)</text>
    </g>
  </g>

  <!-- Row 5: Attributes -->
  <g transform="translate(50, 330)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#F39C12">Attributes (4+ bytes)</text>
    <g transform="translate(0, 10)" filter="url(#shadow)">
      <rect x="0" y="0" width="150" height="45" rx="4" fill="url(#attrGrad)"/>
      <text x="75" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Value Mask</text>
      <text x="75" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">4 bytes (bitmask)</text>

      <rect x="155" y="0" width="300" height="45" rx="4" fill="url(#attrGrad)" fill-opacity="0.7"/>
      <text x="305" y="20" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">Values (in bit order)</text>
      <text x="305" y="35" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="rgba(255,255,255,0.7)">Variable (4 bytes each)</text>
    </g>
  </g>

  <!-- Common masks note -->
  <g transform="translate(480, 50)">
    <rect x="0" y="0" width="220" height="130" rx="6" fill="#ECF0F1" stroke="#BDC3C7" filter="url(#shadow)"/>
    <text x="110" y="20" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#333">Common Value Masks</text>
    <text x="15" y="42" font-family="Consolas, monospace" font-size="9" fill="#2C3E50">CWBackPixel   = 0x02</text>
    <text x="15" y="58" font-family="Consolas, monospace" font-size="9" fill="#2C3E50">CWBorderPixel = 0x08</text>
    <text x="15" y="74" font-family="Consolas, monospace" font-size="9" fill="#2C3E50">CWEventMask   = 0x800</text>
    <text x="15" y="90" font-family="Consolas, monospace" font-size="9" fill="#2C3E50">CWColormap    = 0x2000</text>
    <line x1="10" y1="100" x2="210" y2="100" stroke="#BDC3C7"/>
    <text x="15" y="118" font-family="Arial, sans-serif" font-size="9" fill="#666">Values must appear in</text>
    <text x="15" y="130" font-family="Arial, sans-serif" font-size="9" fill="#666">bit order of mask!</text>
  </g>

  <!-- Total size note -->
  <g transform="translate(50, 395)">
    <rect x="0" y="0" width="650" height="25" rx="4" fill="#D5F5E3" stroke="#27AE60"/>
    <text x="325" y="17" font-family="Consolas, monospace" font-size="11" text-anchor="middle" fill="#1E8449">Minimum: 32 bytes (8 words) | Typical: 40 bytes with BackPixel + EventMask</text>
  </g>
</svg>
