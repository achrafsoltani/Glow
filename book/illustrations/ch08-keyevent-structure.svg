<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 180" width="700" height="180">
  <defs>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>

  <rect width="700" height="180" fill="#FAFAFA"/>

  <text x="350" y="22" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">KeyEvent Structure (32 bytes)</text>

  <!-- Row 1 -->
  <g transform="translate(25, 38)" filter="url(#shadow)">
    <rect x="0" y="0" width="65" height="40" fill="#3498DB" stroke="#2980B9"/>
    <text x="32" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Type</text>
    <text x="32" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#D6EAF8">1 byte</text>

    <rect x="65" y="0" width="75" height="40" fill="#E67E22" stroke="#D35400"/>
    <text x="102" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Keycode</text>
    <text x="102" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#FDEBD0">1 byte</text>

    <rect x="140" y="0" width="80" height="40" fill="#9B59B6" stroke="#8E44AD"/>
    <text x="180" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Seq Num</text>
    <text x="180" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#E8DAEF">2 bytes</text>

    <rect x="220" y="0" width="100" height="40" fill="#27AE60" stroke="#1E8449"/>
    <text x="270" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Time</text>
    <text x="270" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#D5F5E3">4 bytes</text>

    <rect x="320" y="0" width="100" height="40" fill="#1ABC9C" stroke="#16A085"/>
    <text x="370" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Root</text>
    <text x="370" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#D1F2EB">4 bytes</text>

    <rect x="420" y="0" width="110" height="40" fill="#E74C3C" stroke="#C0392B"/>
    <text x="475" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Event Window</text>
    <text x="475" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#FADBD8">4 bytes</text>

    <rect x="530" y="0" width="120" height="40" fill="#F39C12" stroke="#E67E22"/>
    <text x="590" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Child Window</text>
    <text x="590" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#FCF3CF">4 bytes</text>
  </g>

  <!-- Row 2 -->
  <g transform="translate(25, 85)" filter="url(#shadow)">
    <rect x="0" y="0" width="80" height="40" fill="#2C3E50" stroke="#1A252F"/>
    <text x="40" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Root X</text>
    <text x="40" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#BDC3C7">2 bytes</text>

    <rect x="80" y="0" width="80" height="40" fill="#34495E" stroke="#2C3E50"/>
    <text x="120" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Root Y</text>
    <text x="120" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#BDC3C7">2 bytes</text>

    <rect x="160" y="0" width="80" height="40" fill="#16A085" stroke="#1ABC9C"/>
    <text x="200" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Event X</text>
    <text x="200" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#D1F2EB">2 bytes</text>

    <rect x="240" y="0" width="80" height="40" fill="#1ABC9C" stroke="#16A085"/>
    <text x="280" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Event Y</text>
    <text x="280" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#D1F2EB">2 bytes</text>

    <rect x="320" y="0" width="90" height="40" fill="#8E44AD" stroke="#9B59B6"/>
    <text x="365" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">State</text>
    <text x="365" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#E8DAEF">2 bytes</text>

    <rect x="410" y="0" width="110" height="40" fill="#95A5A6" stroke="#7F8C8D"/>
    <text x="465" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Same Screen</text>
    <text x="465" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#ECF0F1">1 byte</text>

    <rect x="520" y="0" width="130" height="40" fill="#7F8C8D" stroke="#95A5A6"/>
    <text x="585" y="17" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">Unused</text>
    <text x="585" y="32" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="#ECF0F1">1 byte</text>
  </g>

  <!-- State legend -->
  <g transform="translate(25, 135)">
    <rect x="0" y="0" width="650" height="30" rx="4" fill="#ECF0F1" stroke="#BDC3C7"/>
    <text x="325" y="20" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="#2C3E50">State bits: Shift (1), Lock (2), Control (4), Mod1/Alt (8), Button1 (256), Button2 (512)...</text>
  </g>
</svg>
