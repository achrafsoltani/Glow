<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 380" width="700" height="380">
  <defs>
    <linearGradient id="errorGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#E74C3C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C0392B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="profileGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27AE60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1E8449;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="visualGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498DB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980B9;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow20" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
    <marker id="arrow20" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#7F8C8D"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="700" height="380" fill="#FAFAFA"/>

  <!-- Title -->
  <text x="350" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">Debugging and Profiling Workflow</text>

  <!-- X11 Errors Section -->
  <g transform="translate(30, 55)" filter="url(#shadow20)">
    <rect x="0" y="0" width="200" height="140" rx="6" fill="url(#errorGrad)"/>
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">X11 Error Handling</text>

    <rect x="10" y="35" width="180" height="95" rx="4" fill="rgba(0,0,0,0.2)"/>
    <text x="100" y="55" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">Common Errors:</text>
    <text x="20" y="72" font-family="Consolas, monospace" font-size="9" fill="#FADBD8">BadRequest (1)</text>
    <text x="20" y="86" font-family="Consolas, monospace" font-size="9" fill="#FADBD8">BadWindow (3)</text>
    <text x="20" y="100" font-family="Consolas, monospace" font-size="9" fill="#FADBD8">BadLength (16)</text>
    <text x="20" y="118" font-family="Consolas, monospace" font-size="9" fill="white">SetSync(true) to catch</text>
  </g>

  <!-- Performance Profiling Section -->
  <g transform="translate(250, 55)" filter="url(#shadow20)">
    <rect x="0" y="0" width="200" height="140" rx="6" fill="url(#profileGrad)"/>
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Performance Profiling</text>

    <rect x="10" y="35" width="180" height="95" rx="4" fill="rgba(0,0,0,0.2)"/>
    <text x="100" y="55" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">Frame Breakdown:</text>

    <!-- Bar chart for frame time -->
    <rect x="20" y="65" width="60" height="12" fill="#82E0AA"/>
    <text x="85" y="75" font-family="Consolas, monospace" font-size="8" fill="white">Update 30%</text>

    <rect x="20" y="80" width="100" height="12" fill="#58D68D"/>
    <text x="125" y="90" font-family="Consolas, monospace" font-size="8" fill="white">Render 50%</text>

    <rect x="20" y="95" width="30" height="12" fill="#2ECC71"/>
    <text x="55" y="105" font-family="Consolas, monospace" font-size="8" fill="white">Display 15%</text>

    <text x="100" y="122" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">pprof for CPU/Memory</text>
  </g>

  <!-- Visual Debugging Section -->
  <g transform="translate(470, 55)" filter="url(#shadow20)">
    <rect x="0" y="0" width="200" height="140" rx="6" fill="url(#visualGrad)"/>
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Visual Debugging</text>

    <rect x="10" y="35" width="180" height="95" rx="4" fill="rgba(0,0,0,0.2)"/>

    <!-- Visual debug example -->
    <rect x="25" y="50" width="40" height="40" fill="none" stroke="#FF00FF" stroke-width="2" stroke-dasharray="4,2"/>
    <rect x="55" y="60" width="30" height="30" fill="none" stroke="#FF0000" stroke-width="2"/>
    <text x="100" y="55" font-family="Consolas, monospace" font-size="8" fill="white">Bounds</text>

    <!-- Grid lines -->
    <line x1="120" y1="50" x2="175" y2="50" stroke="#555" stroke-width="1"/>
    <line x1="120" y1="60" x2="175" y2="60" stroke="#555" stroke-width="1"/>
    <line x1="120" y1="70" x2="175" y2="70" stroke="#555" stroke-width="1"/>
    <line x1="130" y1="45" x2="130" y2="75" stroke="#555" stroke-width="1"/>
    <line x1="150" y1="45" x2="150" y2="75" stroke="#555" stroke-width="1"/>
    <line x1="170" y1="45" x2="170" y2="75" stroke="#555" stroke-width="1"/>
    <text x="147" y="88" font-family="Consolas, monospace" font-size="8" text-anchor="middle" fill="white">Grid</text>

    <text x="100" y="110" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">Collision boxes</text>
    <text x="100" y="122" font-family="Consolas, monospace" font-size="9" text-anchor="middle" fill="white">FPS overlay</text>
  </g>

  <!-- External Tools Section -->
  <g transform="translate(100, 215)" filter="url(#shadow20)">
    <rect x="0" y="0" width="500" height="70" rx="6" fill="#2C3E50"/>
    <text x="250" y="22" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">X11 Debugging Tools</text>

    <g transform="translate(20, 35)">
      <rect x="0" y="0" width="100" height="25" rx="4" fill="#34495E"/>
      <text x="50" y="17" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#BDC3C7">xwininfo</text>
    </g>
    <g transform="translate(135, 35)">
      <rect x="0" y="0" width="100" height="25" rx="4" fill="#34495E"/>
      <text x="50" y="17" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#BDC3C7">xev</text>
    </g>
    <g transform="translate(250, 35)">
      <rect x="0" y="0" width="100" height="25" rx="4" fill="#34495E"/>
      <text x="50" y="17" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#BDC3C7">xprop</text>
    </g>
    <g transform="translate(365, 35)">
      <rect x="0" y="0" width="100" height="25" rx="4" fill="#34495E"/>
      <text x="50" y="17" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="#BDC3C7">xtrace</text>
    </g>
  </g>

  <!-- Build Tags Section -->
  <g transform="translate(100, 305)" filter="url(#shadow20)">
    <rect x="0" y="0" width="500" height="60" rx="6" fill="#ECF0F1" stroke="#BDC3C7"/>
    <text x="250" y="22" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#2C3E50">Debug vs Release Builds</text>

    <g transform="translate(50, 32)">
      <rect x="0" y="0" width="150" height="22" rx="3" fill="#E74C3C"/>
      <text x="75" y="15" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">go build -tags debug</text>
    </g>
    <g transform="translate(300, 32)">
      <rect x="0" y="0" width="150" height="22" rx="3" fill="#27AE60"/>
      <text x="75" y="15" font-family="Consolas, monospace" font-size="10" text-anchor="middle" fill="white">go build (release)</text>
    </g>
  </g>
</svg>
