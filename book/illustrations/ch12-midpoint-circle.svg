<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400" width="600" height="400">
  <defs>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="115%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="600" height="400" fill="#FAFAFA"/>

  <!-- Title -->
  <text x="300" y="25" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">Midpoint Circle: 8-Way Symmetry</text>

  <!-- Grid background -->
  <g transform="translate(50, 45)">
    <!-- Grid (15x15 cells, 20px each) -->
    <g stroke="#EEE" stroke-width="0.5">
      <!-- Vertical lines -->
      <line x1="0" y1="0" x2="300" y2="0"/>
      <line x1="0" y1="20" x2="300" y2="20"/>
      <line x1="0" y1="40" x2="300" y2="40"/>
      <line x1="0" y1="60" x2="300" y2="60"/>
      <line x1="0" y1="80" x2="300" y2="80"/>
      <line x1="0" y1="100" x2="300" y2="100"/>
      <line x1="0" y1="120" x2="300" y2="120"/>
      <line x1="0" y1="140" x2="300" y2="140"/>
      <line x1="0" y1="160" x2="300" y2="160"/>
      <line x1="0" y1="180" x2="300" y2="180"/>
      <line x1="0" y1="200" x2="300" y2="200"/>
      <line x1="0" y1="220" x2="300" y2="220"/>
      <line x1="0" y1="240" x2="300" y2="240"/>
      <line x1="0" y1="260" x2="300" y2="260"/>
      <line x1="0" y1="280" x2="300" y2="280"/>
      <line x1="0" y1="300" x2="300" y2="300"/>
      <!-- Horizontal lines -->
      <line x1="0" y1="0" x2="0" y2="300"/>
      <line x1="20" y1="0" x2="20" y2="300"/>
      <line x1="40" y1="0" x2="40" y2="300"/>
      <line x1="60" y1="0" x2="60" y2="300"/>
      <line x1="80" y1="0" x2="80" y2="300"/>
      <line x1="100" y1="0" x2="100" y2="300"/>
      <line x1="120" y1="0" x2="120" y2="300"/>
      <line x1="140" y1="0" x2="140" y2="300"/>
      <line x1="160" y1="0" x2="160" y2="300"/>
      <line x1="180" y1="0" x2="180" y2="300"/>
      <line x1="200" y1="0" x2="200" y2="300"/>
      <line x1="220" y1="0" x2="220" y2="300"/>
      <line x1="240" y1="0" x2="240" y2="300"/>
      <line x1="260" y1="0" x2="260" y2="300"/>
      <line x1="280" y1="0" x2="280" y2="300"/>
      <line x1="300" y1="0" x2="300" y2="300"/>
    </g>

    <!-- Axes through centre (7,7) = pixel (140,140) to (160,160) -->
    <line x1="150" y1="0" x2="150" y2="300" stroke="#BDC3C7" stroke-width="1" stroke-dasharray="3,3"/>
    <line x1="0" y1="150" x2="300" y2="150" stroke="#BDC3C7" stroke-width="1" stroke-dasharray="3,3"/>
    <!-- Diagonal axes -->
    <line x1="0" y1="0" x2="300" y2="300" stroke="#BDC3C7" stroke-width="0.5" stroke-dasharray="3,3"/>
    <line x1="0" y1="300" x2="300" y2="0" stroke="#BDC3C7" stroke-width="0.5" stroke-dasharray="3,3"/>

    <!-- Centre marker -->
    <circle cx="150" cy="150" r="3" fill="#333"/>

    <!-- Circle radius = 7 cells. Centre at (7,7). -->
    <!-- Ideal circle (faint) -->
    <circle cx="150" cy="150" r="140" fill="none" stroke="#BDC3C7" stroke-width="1" stroke-dasharray="3,3"/>

    <!-- Primary octant pixels (computed: y=0..y<=x at r=7) -->
    <!-- Blue: primary octant (cx+x, cy+y) where x starts at 7, y at 0 -->
    <!-- (7,0) → pixel at (290, 150) -->
    <rect x="281" y="141" width="18" height="18" rx="2" fill="#3498DB"/>
    <!-- (7,1) → (290, 170) -->
    <rect x="281" y="161" width="18" height="18" rx="2" fill="#3498DB"/>
    <!-- (7,2) → (290, 190) -->
    <rect x="281" y="181" width="18" height="18" rx="2" fill="#3498DB"/>
    <!-- (6,3) → (270, 210) -->
    <rect x="261" y="201" width="18" height="18" rx="2" fill="#3498DB"/>
    <!-- (6,4) → (270, 230) -->
    <rect x="261" y="221" width="18" height="18" rx="2" fill="#3498DB"/>
    <!-- (5,5) → (250, 250) -->
    <rect x="241" y="241" width="18" height="18" rx="2" fill="#3498DB"/>

    <!-- Mirror 1: (cy+x, cx+y) → reflected across y=x -->
    <rect x="141" y="281" width="18" height="18" rx="2" fill="#27AE60"/>
    <rect x="161" y="281" width="18" height="18" rx="2" fill="#27AE60"/>
    <rect x="181" y="281" width="18" height="18" rx="2" fill="#27AE60"/>
    <rect x="201" y="261" width="18" height="18" rx="2" fill="#27AE60"/>
    <rect x="221" y="261" width="18" height="18" rx="2" fill="#27AE60"/>

    <!-- Mirror 2: (cx-y, cy+x) -->
    <rect x="141" y="1" width="18" height="18" rx="2" fill="#F0AD4E"/>
    <rect x="121" y="1" width="18" height="18" rx="2" fill="#F0AD4E"/>
    <rect x="101" y="1" width="18" height="18" rx="2" fill="#F0AD4E"/>
    <rect x="81" y="21" width="18" height="18" rx="2" fill="#F0AD4E"/>
    <rect x="61" y="21" width="18" height="18" rx="2" fill="#F0AD4E"/>
    <rect x="41" y="41" width="18" height="18" rx="2" fill="#F0AD4E"/>

    <!-- Mirror 3: (cx-x, cy+y) -->
    <rect x="1" y="141" width="18" height="18" rx="2" fill="#9B59B6"/>
    <rect x="1" y="161" width="18" height="18" rx="2" fill="#9B59B6"/>
    <rect x="1" y="181" width="18" height="18" rx="2" fill="#9B59B6"/>
    <rect x="21" y="201" width="18" height="18" rx="2" fill="#9B59B6"/>
    <rect x="21" y="221" width="18" height="18" rx="2" fill="#9B59B6"/>
    <rect x="41" y="241" width="18" height="18" rx="2" fill="#9B59B6"/>

    <!-- Mirror 4: (cx-x, cy-y) -->
    <rect x="1" y="141" width="18" height="18" rx="2" fill="#9B59B6"/>
    <rect x="1" y="121" width="18" height="18" rx="2" fill="#E74C3C"/>
    <rect x="1" y="101" width="18" height="18" rx="2" fill="#E74C3C"/>
    <rect x="21" y="81" width="18" height="18" rx="2" fill="#E74C3C"/>
    <rect x="21" y="61" width="18" height="18" rx="2" fill="#E74C3C"/>
    <rect x="41" y="41" width="18" height="18" rx="2" fill="#E74C3C"/>

    <!-- Mirror 5: (cx+x, cy-y) -->
    <rect x="281" y="121" width="18" height="18" rx="2" fill="#D35400"/>
    <rect x="281" y="101" width="18" height="18" rx="2" fill="#D35400"/>
    <rect x="261" y="81" width="18" height="18" rx="2" fill="#D35400"/>
    <rect x="261" y="61" width="18" height="18" rx="2" fill="#D35400"/>
    <rect x="241" y="41" width="18" height="18" rx="2" fill="#D35400"/>

    <!-- Mirror 6: (cx+y, cy-x) -->
    <rect x="141" y="1" width="18" height="18" rx="2" fill="#F0AD4E"/>
    <rect x="161" y="1" width="18" height="18" rx="2" fill="#16A085"/>
    <rect x="181" y="1" width="18" height="18" rx="2" fill="#16A085"/>
    <rect x="201" y="21" width="18" height="18" rx="2" fill="#16A085"/>
    <rect x="221" y="21" width="18" height="18" rx="2" fill="#16A085"/>
    <rect x="241" y="41" width="18" height="18" rx="2" fill="#16A085"/>

    <!-- Mirror 7: (cx-y, cy-x) -->
    <rect x="121" y="281" width="18" height="18" rx="2" fill="#8E44AD"/>
    <rect x="101" y="281" width="18" height="18" rx="2" fill="#8E44AD"/>
    <rect x="81" y="261" width="18" height="18" rx="2" fill="#8E44AD"/>
    <rect x="61" y="261" width="18" height="18" rx="2" fill="#8E44AD"/>
    <rect x="41" y="241" width="18" height="18" rx="2" fill="#8E44AD"/>
  </g>

  <!-- Legend -->
  <g transform="translate(380, 55)">
    <rect x="0" y="0" width="195" height="180" rx="6" fill="#ECF0F1" stroke="#BDC3C7" filter="url(#shadow)"/>
    <text x="97" y="22" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">8 Octants</text>

    <rect x="12" y="32" width="12" height="12" rx="2" fill="#3498DB"/>
    <text x="32" y="43" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx+x, cy+y) — computed</text>

    <rect x="12" y="50" width="12" height="12" rx="2" fill="#27AE60"/>
    <text x="32" y="61" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx+y, cy+x)</text>

    <rect x="12" y="68" width="12" height="12" rx="2" fill="#F0AD4E"/>
    <text x="32" y="79" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx-y, cy-x)</text>

    <rect x="12" y="86" width="12" height="12" rx="2" fill="#9B59B6"/>
    <text x="32" y="97" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx-x, cy+y)</text>

    <rect x="12" y="104" width="12" height="12" rx="2" fill="#E74C3C"/>
    <text x="32" y="115" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx-x, cy-y)</text>

    <rect x="12" y="122" width="12" height="12" rx="2" fill="#D35400"/>
    <text x="32" y="133" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx+x, cy-y)</text>

    <rect x="12" y="140" width="12" height="12" rx="2" fill="#16A085"/>
    <text x="32" y="151" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx+y, cy-x)</text>

    <rect x="12" y="158" width="12" height="12" rx="2" fill="#8E44AD"/>
    <text x="32" y="169" font-family="Arial, sans-serif" font-size="9" fill="#333">(cx-y, cy+x)</text>
  </g>

  <!-- Note -->
  <g transform="translate(380, 250)">
    <rect x="0" y="0" width="195" height="75" rx="6" fill="#2C3E50" filter="url(#shadow)"/>
    <text x="97" y="20" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#ECF0F1">Key Insight</text>
    <text x="15" y="40" font-family="Arial, sans-serif" font-size="9" fill="#ECF0F1">Compute 1 octant</text>
    <text x="15" y="55" font-family="Arial, sans-serif" font-size="9" fill="#ECF0F1">Mirror to get all 8</text>
    <text x="15" y="70" font-family="Arial, sans-serif" font-size="9" fill="#ECF0F1">Integer arithmetic only</text>
  </g>
</svg>
